(window.webpackJsonp=window.webpackJsonp||[]).push([["vendors~admin.moduleinfo"],{"1c06":function(e,t,r){"use strict";var o=r("ebba");r.n(o).a},3379:function(e,t,r){},"3fa5":function(e,t,r){"use strict";var o=r("3379");r.n(o).a},"5d63":function(e,t,r){},"61ac":function(e,t,r){"use strict";r.r(t);var o=r("d0ee"),n=r("21d2"),l=[{name:"id",label:"编号",width:240,show:!1},{name:"name",label:"名称"},{name:"remarks",label:"备注"},{name:"creator",label:"创建人",width:100,show:!1},{name:"createdTime",label:"创建时间",width:150,show:!1}],a=r("3ee3"),i={mixins:[a.b.dialog],data:function(){return{form:{title:"添加枚举",icon:"add",width:"30%",action:o.a.add,labelWidth:"70px",model:{name:"",remarks:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],remarks:[{required:!0,message:"请输入备注",trigger:"blur"}]}},on:{success:this.onSuccess,open:this.onOpen}}},methods:{onSuccess:function(){this.$emit("success")},onOpen:function(){var e=this;this.$nextTick(function(){e.$refs.form.reset()})}}},s=r("2877"),m=Object(s.a)(i,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nm-form-dialog",t._g(t._b({ref:"form",attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-form-dialog",t.form,!1),t.on),[r("el-row",[r("el-col",{attrs:{span:20,offset:1}},[r("el-form-item",{attrs:{label:"名称：",prop:"name"}},[r("el-input",{model:{value:t.form.model.name,callback:function(e){t.$set(t.form.model,"name",e)},expression:"form.model.name"}})],1),r("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[r("el-input",{model:{value:t.form.model.remarks,callback:function(e){t.$set(t.form.model,"remarks",e)},expression:"form.model.remarks"}})],1)],1)],1)],1)},[],!1,null,null,null).exports,u={mixins:[a.b.formDialogEdit],data:function(){return{api:o.a,form:{title:"编辑项目",width:"30%",action:o.a.update,labelWidth:"70px",model:{name:"",remarks:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],remarks:[{required:!0,message:"请输入备注",trigger:"blur"}]}}}}},c=Object(s.a)(u,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nm-form-dialog",t._g(t._b({ref:"form",attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-form-dialog",t.form,!1),t.on),[r("el-row",[r("el-col",{attrs:{span:20,offset:1}},[r("el-form-item",{attrs:{label:"名称：",prop:"name"}},[r("el-input",{model:{value:t.form.model.name,callback:function(e){t.$set(t.form.model,"name",e)},expression:"form.model.name"}})],1),r("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[r("el-input",{model:{value:t.form.model.remarks,callback:function(e){t.$set(t.form.model,"remarks",e)},expression:"form.model.remarks"}})],1)],1)],1)],1)},[],!1,null,null,null).exports,d=r("e0f9");function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p="codegenerator/enumitem/",b=d.b.crud(p),h={sort:p+"sort"},g=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(e){f(t,e,r[e])})}return t}({},b,{querySortList:function(e){return d.b.get(h.sort,{enumId:e})},updateSortList:function(e){return d.b.post(h.sort,e)}}),v=[{name:"id",label:"编号",show:!1},{name:"name",label:"名称"},{name:"value",label:"值"},{name:"remarks",label:"备注"}],y={mixins:[a.b.dialog],data:function(){return{form:{title:"添加类",icon:"add",width:"40%",action:g.add,model:{enumId:"",name:"",value:"",remarks:""},rules:{enumId:[{required:!0,message:"请选择枚举",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],value:[{required:!0,message:"请输入值",trigger:"blur"},{type:"number",message:"请输入值",trigger:"blur"}],remarks:[{required:!0,message:"请输入备注",trigger:"blur"}]}},on:{success:this.onSuccess,open:this.onOpen}}},props:{parent:{type:Object,required:!0}},methods:{onSuccess:function(){this.$emit("success")},onOpen:function(){var e=this;this.$nextTick(function(){e.$refs.form.reset(),e.form.model.enumId=e.parent.id})}}},w=Object(s.a)(y,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nm-form-dialog",t._g(t._b({ref:"form",attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-form-dialog",t.form,!1),t.on),[r("el-row",[r("el-col",{attrs:{span:20,offset:1}},[r("el-form-item",{attrs:{label:"所属枚举："}},[r("el-input",{attrs:{value:t.parent.remarks+"("+t.parent.name+")",disabled:""}})],1),r("el-form-item",{attrs:{label:"名称：",prop:"name"}},[r("el-input",{model:{value:t.form.model.name,callback:function(e){t.$set(t.form.model,"name",e)},expression:"form.model.name"}})],1),r("el-form-item",{attrs:{label:"值：",prop:"value"}},[r("el-input",{model:{value:t.form.model.value,callback:function(e){t.$set(t.form.model,"value",t._n(e))},expression:"form.model.value"}})],1),r("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[r("el-input",{model:{value:t.form.model.remarks,callback:function(e){t.$set(t.form.model,"remarks",e)},expression:"form.model.remarks"}})],1)],1)],1)],1)},[],!1,null,null,null).exports,k={mixins:[a.b.formDialogEdit],data:function(){return{api:g,form:{title:"编辑枚举项",width:"40%",action:g.update,model:{name:"",value:"",remarks:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],value:[{required:!0,message:"请输入值",trigger:"blur"},{type:"number",message:"请输入正确的数值",trigger:"blur"}],remarks:[{required:!0,message:"请输入备注",trigger:"blur"}]}},on:{opened:this.opened}}},props:{parent:{type:Object,required:!0}},methods:{opened:function(){}}},x=Object(s.a)(k,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nm-form-dialog",t._g(t._b({ref:"form",attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-form-dialog",t.form,!1),t.on),[r("el-row",[r("el-col",{attrs:{span:20,offset:1}},[r("el-form-item",{attrs:{label:"所属枚举："}},[r("el-input",{attrs:{value:t.parent.remarks+"("+t.parent.name+")",disabled:""}})],1),r("el-form-item",{attrs:{label:"名称：",prop:"name"}},[r("el-input",{model:{value:t.form.model.name,callback:function(e){t.$set(t.form.model,"name",e)},expression:"form.model.name"}})],1),r("el-form-item",{attrs:{label:"值：",prop:"value"}},[r("el-input",{model:{value:t.form.model.value,callback:function(e){t.$set(t.form.model,"value",t._n(e))},expression:"form.model.value"}})],1),r("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[r("el-input",{model:{value:t.form.model.remarks,callback:function(e){t.$set(t.form.model,"remarks",e)},expression:"form.model.remarks"}})],1)],1)],1)],1)},[],!1,null,null,null).exports,_={mixins:[a.b.dialog],components:{AddPage:w,EditPage:x},data:function(){return{curr:{id:""},list:{noHeader:!0,queryOnCreated:!1,action:g.query,model:{enumId:"",name:""},cols:v},dialog:{add:!1,edit:!1,sort:!1},removeAction:g.remove}},props:{parent:{type:Object,required:!0}},computed:{dragSort:function(){return{queryAction:this.querySortList,updateAction:g.updateSortList}}},methods:{refresh:function(){this.$refs.list.refresh()},add:function(){this.dialog.add=!0},edit:function(e){this.curr=e,this.dialog.edit=!0},openSort:function(){this.dialog.sort=!0},querySortList:function(){return g.querySortList(this.parent.id)},onOpen:function(){var e=this;this.$nextTick(function(){e.$refs.list.reset(),e.list.model.enumId=e.parent.id,e.$refs.list.query()})}}},$=Object(s.a)(_,function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("nm-list-dialog",{attrs:{title:"枚举项列表("+r.parent.name+")",icon:"list",height:"80%",visible:r.visible_},on:{"update:visible":function(e){r.visible_=e},open:r.onOpen}},[o("nm-list",r._b({ref:"list",scopedSlots:r._u([{key:"querybar",fn:function(){return[o("el-form-item",{attrs:{label:"名称：",prop:"name"}},[o("el-input",{attrs:{clearable:""},model:{value:r.list.model.name,callback:function(e){r.$set(r.list.model,"name",e)},expression:"list.model.name"}})],1)]},proxy:!0},{key:"querybar-buttons",fn:function(){return[o("nm-button",{attrs:{type:"success",text:"添加",icon:"add"},on:{click:r.add}}),o("nm-button",{attrs:{type:"warning",text:"排序",icon:"sort"},on:{click:r.openSort}})]},proxy:!0},{key:"col-operation",fn:function(e){var t=e.row;return[o("nm-button",{attrs:{text:"编辑",icon:"edit",type:"text"},on:{click:function(e){return r.edit(t)}}}),o("nm-button-delete",{attrs:{action:r.removeAction,id:t.id},on:{success:r.refresh}})]}}])},"nm-list",r.list,!1)),o("add-page",{attrs:{parent:r.parent,visible:r.dialog.add},on:{"update:visible":function(e){return r.$set(r.dialog,"add",e)},success:r.refresh}}),o("edit-page",{attrs:{id:r.curr.id,parent:r.parent,visible:r.dialog.edit},on:{"update:visible":function(e){return r.$set(r.dialog,"edit",e)},success:r.refresh}}),o("nm-drag-sort-dialog",r._b({attrs:{visible:r.dialog.sort},on:{"update:visible":function(e){return r.$set(r.dialog,"sort",e)},success:r.refresh}},"nm-drag-sort-dialog",r.dragSort,!1))],1)},[],!1,null,null,null).exports,O={name:n.default.name,components:{AddPage:m,EditPage:c,ItemPage:$},data:function(){return{curr:{id:""},list:{title:n.default.title,cols:l,action:o.a.query,model:{name:""}},removeAction:o.a.remove,dialog:{add:!1,edit:!1,item:!1},buttons:n.default.buttons}},methods:{refresh:function(){this.$refs.list.refresh()},add:function(){this.dialog.add=!0},edit:function(e){this.curr=e,this.dialog.edit=!0},manageItem:function(e){this.curr=e,this.dialog.item=!0}}},S=Object(s.a)(O,function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("nm-container",[o("nm-list",r._b({ref:"list",scopedSlots:r._u([{key:"querybar",fn:function(){return[o("el-form-item",{attrs:{label:"名称：",prop:"name"}},[o("el-input",{attrs:{clearable:""},model:{value:r.list.model.name,callback:function(e){r.$set(r.list.model,"name",e)},expression:"list.model.name"}})],1),o("el-form-item",{attrs:{label:"编码：",prop:"code"}},[o("el-input",{attrs:{clearable:""},model:{value:r.list.model.code,callback:function(e){r.$set(r.list.model,"code",e)},expression:"list.model.code"}})],1)]},proxy:!0},{key:"querybar-buttons",fn:function(){return[o("nm-button",{directives:[{name:"nm-has",rawName:"v-nm-has",value:r.buttons.add,expression:"buttons.add"}],attrs:{type:"success",text:"添加",icon:"add"},on:{click:r.add}})]},proxy:!0},{key:"col-name",fn:function(e){var t=e.row;return[o("nm-button",{attrs:{text:t.name,type:"text"},on:{click:function(e){return r.manageItem(t)}}})]}},{key:"col-isShow",fn:function(e){var t=e.row;return[r._v(r._s(t.isShow?"是":"否"))]}},{key:"col-operation",fn:function(e){var t=e.row;return[o("nm-button",{directives:[{name:"nm-has",rawName:"v-nm-has",value:r.buttons.edit,expression:"buttons.edit"}],attrs:{text:"编辑",icon:"edit",type:"text"},on:{click:function(e){return r.edit(t)}}}),o("nm-button-delete",{directives:[{name:"nm-has",rawName:"v-nm-has",value:r.buttons.del,expression:"buttons.del"}],attrs:{action:r.removeAction,id:t.id},on:{success:r.refresh}})]}}])},"nm-list",r.list,!1)),o("add-page",{attrs:{visible:r.dialog.add},on:{"update:visible":function(e){return r.$set(r.dialog,"add",e)},success:r.refresh}}),o("edit-page",{attrs:{id:r.curr.id,visible:r.dialog.edit},on:{"update:visible":function(e){return r.$set(r.dialog,"edit",e)},success:r.refresh}}),o("item-page",{attrs:{parent:r.curr,visible:r.dialog.item},on:{"update:visible":function(e){return r.$set(r.dialog,"item",e)}}})],1)},[],!1,null,null,null);t.default=S.exports},"6e0d":function(e,t,r){"use strict";var o=r("e0f9");function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l="admin/moduleinfo/",a=o.b.crud(l),i={select:l+"select",sync:l+"sync"};t.a=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(e){n(t,e,r[e])})}return t}({},a,{select:function(){return o.b.get(i.select)},sync:function(){return o.b.post(i.sync)}})},"8c17":function(e,t,r){"use strict";r.r(t);var o=r("6e0d"),n=r("b4a5"),l=[{name:"id",label:"编号",width:240,show:!1},{name:"name",label:"名称"},{name:"code",label:"编码",width:150},{name:"version",label:"版本号",width:150},{name:"remarks",label:"备注"},{name:"creator",label:"创建人",width:100,show:!1},{name:"createdTime",label:"创建时间",width:150,show:!1}],a={name:n.default.name,data:function(){return{list:{title:n.default.title,cols:l,action:o.a.query,model:{name:""}},removeAction:o.a.remove,buttons:n.default.buttons}},methods:{refresh:function(){this.$refs.list.refresh()},sync:function(){var t=this;this._confirm("您确认要同步模块信息吗","同步模块信息").then(function(){o.a.sync().then(function(e){t._success("同步成功"),t.refresh()})})}}},i=r("2877"),s=Object(i.a)(a,function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("nm-container",[o("nm-list",r._b({ref:"list",scopedSlots:r._u([{key:"querybar",fn:function(){return[o("el-form-item",{attrs:{label:"名称：",prop:"name"}},[o("el-input",{attrs:{clearable:""},model:{value:r.list.model.name,callback:function(e){r.$set(r.list.model,"name",e)},expression:"list.model.name"}})],1)]},proxy:!0},{key:"querybar-buttons",fn:function(){return[o("nm-button",{directives:[{name:"nm-has",rawName:"v-nm-has",value:r.buttons.sync,expression:"buttons.sync"}],attrs:{type:"success",text:r.buttons.sync.text,icon:r.buttons.sync.icon},on:{click:r.sync}})]},proxy:!0},{key:"col-isShow",fn:function(e){var t=e.row;return[r._v(r._s(t.isShow?"是":"否"))]}},{key:"col-operation",fn:function(e){var t=e.row;return[o("nm-button-delete",{directives:[{name:"nm-has",rawName:"v-nm-has",value:r.buttons.del,expression:"buttons.del"}],attrs:{action:r.removeAction,id:t.id},on:{success:r.refresh}})]}}])},"nm-list",r.list,!1))],1)},[],!1,null,null,null);t.default=s.exports},"9aaa":function(e,t,r){"use strict";var o=r("5d63");r.n(o).a},aac3:function(e,t,r){"use strict";r.r(t);var o=r("3ee3"),n=r("e0f9");function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a="codegenerator/project/",i=n.b.crud(a),s={select:a+"select",buildCode:a+"BuildCode"},m=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(e){l(t,e,r[e])})}return t}({},i,{select:function(e){return n.b.get(s.select,e)},buildCode:function(e){return n.b.post(s.buildCode,e,{responseType:"blob"})}}),u=r("66ba"),c=[{name:"id",label:"编号",width:250,show:!1},{name:"name",label:"名称"},{name:"prefix",label:"前缀",width:150},{name:"code",label:"编码"},{name:"creator",label:"创建人",width:100,show:!1},{name:"createdTime",label:"创建时间",width:150,show:!1}],d={mixins:[o.b.dialog],data:function(){return{form:{title:"添加项目",icon:"add",width:"30%",action:m.add,labelWidth:"70px",model:{name:"",prefix:"",code:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"}]}},on:{success:this.onSuccess,open:this.onOpen}}},methods:{onSuccess:function(){this.$emit("success")},onOpen:function(){var e=this;this.$nextTick(function(){e.$refs.form.reset()})}}},f=r("2877"),p=Object(f.a)(d,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nm-form-dialog",t._g(t._b({ref:"form",attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-form-dialog",t.form,!1),t.on),[r("el-row",[r("el-col",{attrs:{span:20,offset:1}},[r("el-form-item",{attrs:{label:"名称：",prop:"name"}},[r("el-input",{model:{value:t.form.model.name,callback:function(e){t.$set(t.form.model,"name",e)},expression:"form.model.name"}})],1),r("el-form-item",{attrs:{label:"前缀：",prop:"prefix"}},[r("el-input",{model:{value:t.form.model.prefix,callback:function(e){t.$set(t.form.model,"prefix",e)},expression:"form.model.prefix"}})],1),r("el-form-item",{attrs:{label:"编码：",prop:"code"}},[r("el-input",{model:{value:t.form.model.code,callback:function(e){t.$set(t.form.model,"code",e)},expression:"form.model.code"}})],1)],1)],1)],1)},[],!1,null,null,null).exports,b={mixins:[o.b.formDialogEdit],data:function(){return{api:m,form:{title:"编辑项目",width:"30%",action:m.update,labelWidth:"70px",model:{name:"",prefix:"",code:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"}]}}}}},h=Object(f.a)(b,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nm-form-dialog",t._g(t._b({ref:"form",attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-form-dialog",t.form,!1),t.on),[r("el-row",[r("el-col",{attrs:{span:20,offset:1}},[r("el-form-item",{attrs:{label:"名称：",prop:"name"}},[r("el-input",{model:{value:t.form.model.name,callback:function(e){t.$set(t.form.model,"name",e)},expression:"form.model.name"}})],1),r("el-form-item",{attrs:{label:"前缀：",prop:"prefix"}},[r("el-input",{model:{value:t.form.model.prefix,callback:function(e){t.$set(t.form.model,"prefix",e)},expression:"form.model.prefix"}})],1),r("el-form-item",{attrs:{label:"编码：",prop:"code"}},[r("el-input",{model:{value:t.form.model.code,callback:function(e){t.$set(t.form.model,"code",e)},expression:"form.model.code"}})],1)],1)],1)],1)},[],!1,null,null,null).exports;function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v="codegenerator/class/",y=n.b.crud(v),w={baseEntityTypeSelect:v+"BaseEntityTypeSelect"},k=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(e){g(t,e,r[e])})}return t}({},y,{getBaseEntityTypeSelect:function(){return n.b.get(w.baseEntityTypeSelect)}}),x=[{name:"id",label:"编号",width:240,show:!1},{name:"name",label:"类名",width:250},{name:"tableName",label:"表名"},{name:"baseEntityName",label:"基类类型",width:250},{name:"remarks",label:"备注"},{name:"creator",label:"创建人",width:100,show:!1},{name:"createdTime",label:"创建时间",width:150,show:!1}],_={mixins:[o.b.dialog],data:function(){return{form:{title:"添加类",icon:"add",width:"40%",action:k.add,model:{projectId:"",name:"",tableName:"",baseEntityType:6,remarks:"",actions:[]},rules:{projectId:[{required:!0,message:"请选择项目",trigger:"blur"}],name:[{required:!0,message:"请输入类名",trigger:"blur"}],remarks:[{required:!0,message:"请输入备注",trigger:"blur"}],tableName:[{required:!0,message:"请输入表名",trigger:"blur"}]}},on:{success:this.onSuccess,open:this.onOpen}}},props:{project:{type:Object,required:!0}},methods:{getBaseEntityTypeSelect:function(){return k.getBaseEntityTypeSelect()},onSuccess:function(){this.$emit("success")},onOpen:function(){var e=this;this.$nextTick(function(){e.$refs.form.reset(),e.form.model.projectId=e.project.id})}}},$=Object(f.a)(_,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nm-form-dialog",t._g(t._b({ref:"form",attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-form-dialog",t.form,!1),t.on),[r("el-row",[r("el-col",{attrs:{span:20,offset:1}},[r("el-form-item",{attrs:{label:"所属项目："}},[r("el-input",{attrs:{disabled:""},model:{value:t.project.name,callback:function(e){t.$set(t.project,"name",e)},expression:"project.name"}})],1),r("el-form-item",{attrs:{label:"类名：",prop:"name"}},[r("el-input",{model:{value:t.form.model.name,callback:function(e){t.$set(t.form.model,"name",e)},expression:"form.model.name"}})],1),r("el-form-item",{attrs:{label:"表名：",prop:"tableName"}},[r("el-input",{model:{value:t.form.model.tableName,callback:function(e){t.$set(t.form.model,"tableName",e)},expression:"form.model.tableName"}})],1),r("el-form-item",{attrs:{label:"基类类型：",prop:"baseEntityType"}},[r("nm-select",{attrs:{method:t.getBaseEntityTypeSelect},model:{value:t.form.model.baseEntityType,callback:function(e){t.$set(t.form.model,"baseEntityType",e)},expression:"form.model.baseEntityType"}})],1),r("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[r("el-input",{model:{value:t.form.model.remarks,callback:function(e){t.$set(t.form.model,"remarks",e)},expression:"form.model.remarks"}})],1),r("el-form-item",{attrs:{label:"基础方法：",prop:"actions"}})],1)],1)],1)},[],!1,null,null,null).exports,O={mixins:[o.b.formDialogEdit],data:function(){return{api:k,form:{title:"编辑类",width:"40%",action:k.update,model:{id:"",name:"",tableName:"",remarks:""},rules:{name:[{required:!0,message:"请输入类名",trigger:"blur"}],tableName:[{required:!0,message:"请输入表名",trigger:"blur"}],remarks:[{required:!0,message:"请输入备注",trigger:"blur"}]}},on:{success:this.onSuccess,open:this.onOpen}}},props:{project:{type:Object,required:!0}}},S=Object(f.a)(O,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nm-form-dialog",t._g(t._b({ref:"form",attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-form-dialog",t.form,!1),t.on),[r("el-row",[r("el-col",{attrs:{span:20,offset:1}},[r("el-form-item",{attrs:{label:"所属项目："}},[r("el-input",{attrs:{disabled:""},model:{value:t.project.name,callback:function(e){t.$set(t.project,"name",e)},expression:"project.name"}})],1),r("el-form-item",{attrs:{label:"类名：",prop:"name"}},[r("el-input",{model:{value:t.form.model.name,callback:function(e){t.$set(t.form.model,"name",e)},expression:"form.model.name"}})],1),r("el-form-item",{attrs:{label:"表名：",prop:"tableName"}},[r("el-input",{model:{value:t.form.model.tableName,callback:function(e){t.$set(t.form.model,"tableName",e)},expression:"form.model.tableName"}})],1),r("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[r("el-input",{model:{value:t.form.model.remarks,callback:function(e){t.$set(t.form.model,"remarks",e)},expression:"form.model.remarks"}})],1)],1)],1)],1)},[],!1,null,null,null).exports;function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var q="codegenerator/property/",I=n.b.crud(q),j={propertyTypeSelect:q+"PropertyTypeSelect",sort:q+"sort",updateNullable:q+"UpdateNullable",updateShowInList:q+"UpdateShowInList",select:q+"select"},P=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(e){E(t,e,r[e])})}return t}({},I,{getPropertyTypeSelect:function(){return n.b.get(j.propertyTypeSelect)},querySortList:function(e){return n.b.get(j.sort,{classId:e})},updateSortList:function(e){return n.b.post(j.sort,e)},updateNullable:function(e){return n.b.post(j.updateNullable,e)},updateShowInList:function(e){return n.b.post(j.updateShowInList,e)},select:function(e){return n.b.get(j.select,{classId:e})}}),N=[{name:"id",label:"编号",width:240,show:!1},{name:"name",label:"名称"},{name:"typeName",label:"类型"},{name:"nullable",label:"可空"},{name:"showInList",label:"列表显示"},{name:"remarks",label:"备注"},{name:"sort",label:"排序",width:70},{name:"creator",label:"创建人",width:100,show:!1},{name:"createdTime",label:"创建时间",width:150,show:!1}],T=r("d0ee"),L=0,A=["String","Byte","Short","Int","Long","Double","Decimal","Bool","Guid","DateTime","Enum"].map(function(e){return{label:e,value:L++}}),C={mixins:[o.b.select],data:function(){return{action:function(){return new Promise(function(e){e(A)})}}}},D={mixins:[o.b.select],data:function(){return{action:T.a.select}}},V={mixins:[o.b.dialog],components:{TypeSelect:C,EnumSelect:D},data:function(){var o=this;return{form:{title:"添加属性",icon:"add",width:"40%",action:P.add,model:{classId:0,name:"",type:0,length:0,precision:0,scale:0,enumId:"",nullable:!1,remarks:"",sort:0,showInList:!0,hasDefaultValue:!1},rules:{classId:[{required:!0,message:"请选择类",trigger:"blur"}],name:[{required:!0,message:"请输入类名",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"blur"},{type:"number",message:"请选择正确的类型",trigger:"blur"}],length:[{validator:function(e,t,r){o.showLength?""===t?r(new Error("请输入长度")):Number.isInteger(t)?t<0?r(new Error("长度不能小于0")):r():r(new Error("请输入正确的长度")):r()}}],precision:[{validator:function(e,t,r){o.showPrecision?""===t?r(new Error("请输入精度")):Number.isInteger(t)?t<1?r(new Error("精度不能小于1")):r():r(new Error("请输入正确的精度")):r()}}],scale:[{validator:function(e,t,r){o.showScale?""===t?r(new Error("请输入刻度")):Number.isInteger(t)?t<0?r(new Error("刻度不能小于0")):t>o.form.model.precision?r(new Error("刻度不能大于精度")):r():r(new Error("请输入正确的刻度")):r()}}],enumId:[{validator:function(e,t,r){o.showEnum&&""===t?r(new Error("请选择枚举")):r()}}],remarks:[{required:!0,message:"请输入备注",trigger:"blur"}]}},on:{success:this.onSuccess,open:this.onOpen}}},props:{total:Number,parent:{type:Object,required:!0}},computed:{showLength:function(){return 0===this.form.model.type},showPrecision:function(){return 5===this.form.model.type||6===this.form.model.type},showScale:function(){return 6===this.form.model.type},showEnum:function(){return 11===this.form.model.type}},methods:{getEnumSelect:function(){return T.a.select()},onSuccess:function(){this.$emit("success")},onOpen:function(){var e=this;this.$nextTick(function(){e.$refs.form.reset(),e.form.model.classId=e.parent.id,e.form.model.sort=e.total})}},watch:{"form.model.type":function(){this.showLength||(this.form.model.length=0),this.showPrecision||(this.form.model.precision=0,this.form.model.scale=0),this.showEnum||(this.form.model.enumId="")}}},B=Object(f.a)(V,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nm-form-dialog",t._g(t._b({ref:"form",attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-form-dialog",t.form,!1),t.on),[r("el-row",[r("el-col",{attrs:{span:20,offset:1}},[r("el-form-item",{attrs:{label:"所属类："}},[r("el-input",{attrs:{disabled:""},model:{value:t.parent.name,callback:function(e){t.$set(t.parent,"name",e)},expression:"parent.name"}})],1),r("el-form-item",{attrs:{label:"名称：",prop:"name"}},[r("el-input",{model:{value:t.form.model.name,callback:function(e){t.$set(t.form.model,"name",e)},expression:"form.model.name"}})],1),r("el-form-item",{attrs:{label:"类型：",prop:"type"}},[r("type-select",{model:{value:t.form.model.type,callback:function(e){t.$set(t.form.model,"type",e)},expression:"form.model.type"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showLength,expression:"showLength"}],attrs:{label:"长度：",prop:"length"}},[r("el-input",{model:{value:t.form.model.length,callback:function(e){t.$set(t.form.model,"length",t._n(e))},expression:"form.model.length"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showPrecision,expression:"showPrecision"}],attrs:{label:"精度：",prop:"precision"}},[r("el-input",{model:{value:t.form.model.precision,callback:function(e){t.$set(t.form.model,"precision",t._n(e))},expression:"form.model.precision"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showScale,expression:"showScale"}],attrs:{label:"刻度：",prop:"scale"}},[r("el-input",{model:{value:t.form.model.scale,callback:function(e){t.$set(t.form.model,"scale",t._n(e))},expression:"form.model.scale"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showEnum,expression:"showEnum"}],attrs:{label:"枚举：",prop:"enumId"}},[r("enum-select",{model:{value:t.form.model.enumId,callback:function(e){t.$set(t.form.model,"enumId",e)},expression:"form.model.enumId"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:6,offset:1}},[r("el-form-item",{attrs:{label:"可空：",prop:"nullable"}},[r("el-switch",{model:{value:t.form.model.nullable,callback:function(e){t.$set(t.form.model,"nullable",e)},expression:"form.model.nullable"}})],1)],1),r("el-col",{attrs:{span:7}},[r("el-form-item",{attrs:{label:"列表显示：",prop:"showInList"}},[r("el-switch",{model:{value:t.form.model.showInList,callback:function(e){t.$set(t.form.model,"showInList",e)},expression:"form.model.showInList"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"包含默认值：",prop:"hasDefaultValue"}},[r("el-switch",{model:{value:t.form.model.hasDefaultValue,callback:function(e){t.$set(t.form.model,"hasDefaultValue",e)},expression:"form.model.hasDefaultValue"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:20,offset:1}},[r("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[r("el-input",{model:{value:t.form.model.remarks,callback:function(e){t.$set(t.form.model,"remarks",e)},expression:"form.model.remarks"}})],1),r("el-form-item",{attrs:{label:"序号：",prop:"sort"}},[r("el-input",{attrs:{type:"number"},model:{value:t.form.model.sort,callback:function(e){t.$set(t.form.model,"sort",t._n(e))},expression:"form.model.sort"}})],1)],1)],1)],1)},[],!1,null,null,null).exports,M={mixins:[o.b.formDialogEdit],components:{TypeSelect:C,EnumSelect:D},data:function(){var o=this;return{api:P,form:{title:"编辑属性",width:"40%",action:P.update,model:{name:"",type:0,length:0,precision:0,scale:0,enumId:"",nullable:!1,remarks:"",sort:0,showInList:!0,hasDefaultValue:!1},rules:{classId:[{required:!0,message:"请选择类",trigger:"blur"}],name:[{required:!0,message:"请输入类名",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"blur"},{type:"number",message:"请选择正确的类型",trigger:"blur"}],length:[{validator:function(e,t,r){o.showLength?""===t?r(new Error("请输入长度")):Number.isInteger(t)?t<0?r(new Error("长度不能小于0")):r():r(new Error("请输入正确的长度")):r()}}],precision:[{validator:function(e,t,r){o.showPrecision?""===t?r(new Error("请输入精度")):Number.isInteger(t)?t<1?r(new Error("精度不能小于1")):r():r(new Error("请输入正确的精度")):r()}}],scale:[{validator:function(e,t,r){o.showPrecision?""===t?r(new Error("请输入刻度")):Number.isInteger(t)?t<0?r(new Error("刻度不能小于0")):t>o.form.model.precision?r(new Error("刻度不能大于精度")):r():r(new Error("请输入正确的刻度")):r()}}],enumId:[{validator:function(e,t,r){o.showEnum&&""===t?r(new Error("请选择枚举")):r()}}],remarks:[{required:!0,message:"请输入备注",trigger:"blur"}]}}}},props:{parent:{type:Object,required:!0}},computed:{showLength:function(){return 0===this.form.model.type},showPrecision:function(){return 4<this.form.model.type&&this.form.model.type<8},showEnum:function(){return 11===this.form.model.type}},methods:{getEnumSelect:function(){return T.a.select()}},watch:{"form.model.type":function(){this.showLength||(this.form.model.length=0),this.showPrecision||(this.form.model.precision=0,this.form.model.scale=0),this.showEnum||(this.form.model.enumId="")}}},W=Object(f.a)(M,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nm-form-dialog",t._g(t._b({ref:"form",attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-form-dialog",t.form,!1),t.on),[r("el-row",[r("el-col",{attrs:{span:20,offset:1}},[r("el-form-item",{attrs:{label:"所属类："}},[r("el-input",{attrs:{disabled:""},model:{value:t.parent.name,callback:function(e){t.$set(t.parent,"name",e)},expression:"parent.name"}})],1),r("el-form-item",{attrs:{label:"名称：",prop:"name"}},[r("el-input",{model:{value:t.form.model.name,callback:function(e){t.$set(t.form.model,"name",e)},expression:"form.model.name"}})],1),r("el-form-item",{attrs:{label:"类型：",prop:"type"}},[r("type-select",{model:{value:t.form.model.type,callback:function(e){t.$set(t.form.model,"type",e)},expression:"form.model.type"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showLength,expression:"showLength"}],attrs:{label:"长度：",prop:"length"}},[r("el-input",{model:{value:t.form.model.length,callback:function(e){t.$set(t.form.model,"length",t._n(e))},expression:"form.model.length"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showPrecision,expression:"showPrecision"}],attrs:{label:"精度：",prop:"precision"}},[r("el-input",{model:{value:t.form.model.precision,callback:function(e){t.$set(t.form.model,"precision",t._n(e))},expression:"form.model.precision"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showScale,expression:"showScale"}],attrs:{label:"刻度：",prop:"scale"}},[r("el-input",{model:{value:t.form.model.scale,callback:function(e){t.$set(t.form.model,"scale",t._n(e))},expression:"form.model.scale"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showEnum,expression:"showEnum"}],attrs:{label:"枚举：",prop:"enumId"}},[r("enum-select",{model:{value:t.form.model.enumId,callback:function(e){t.$set(t.form.model,"enumId",e)},expression:"form.model.enumId"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:6,offset:1}},[r("el-form-item",{attrs:{label:"可空：",prop:"nullable"}},[r("el-switch",{model:{value:t.form.model.nullable,callback:function(e){t.$set(t.form.model,"nullable",e)},expression:"form.model.nullable"}})],1)],1),r("el-col",{attrs:{span:7}},[r("el-form-item",{attrs:{label:"列表显示：",prop:"showInList"}},[r("el-switch",{model:{value:t.form.model.showInList,callback:function(e){t.$set(t.form.model,"showInList",e)},expression:"form.model.showInList"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"包含默认值：",prop:"hasDefaultValue"}},[r("el-switch",{model:{value:t.form.model.hasDefaultValue,callback:function(e){t.$set(t.form.model,"hasDefaultValue",e)},expression:"form.model.hasDefaultValue"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:20,offset:1}},[r("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[r("el-input",{model:{value:t.form.model.remarks,callback:function(e){t.$set(t.form.model,"remarks",e)},expression:"form.model.remarks"}})],1),r("el-form-item",{attrs:{label:"序号：",prop:"sort"}},[r("el-input",{attrs:{type:"number"},model:{value:t.form.model.sort,callback:function(e){t.$set(t.form.model,"sort",t._n(e))},expression:"form.model.sort"}})],1)],1)],1)],1)},[],!1,null,null,null).exports,F={mixins:[o.b.dialog],components:{AddPage:B,EditPage:W},data:function(){return{curr:{id:""},total:0,list:{noHeader:!0,queryOnCreated:!1,action:P.query,operationWidth:150,model:{classId:"",name:""},cols:N},dialog:{add:!1,edit:!1,property:!1,sort:!1},removeAction:P.remove}},props:{parent:{type:Object,required:!0}},computed:{dragSort:function(){return{queryAction:this.querySortList,updateAction:P.updateSortList}}},methods:{refresh:function(){this.$refs.list.refresh()},add:function(e){this.total=e,this.dialog.add=!0},edit:function(e){this.curr=e,this.dialog.edit=!0},updateNullable:function(e){e.nullable=!e.nullable;var t=e.id,r=e.nullable;P.updateNullable({id:t,nullable:r})},updateShowInList:function(e){e.showInList=!e.showInList;var t=e.id,r=e.showInList;P.updateShowInList({id:t,showInList:r})},querySortList:function(){return P.querySortList(this.parent.id)},openSort:function(){this.dialog.sort=!0},onOpen:function(){var e=this;this.$nextTick(function(){e.$refs.list.reset(),e.list.model.classId=e.parent.id,e.$refs.list.query()})}}},U=(r("9aaa"),Object(f.a)(F,function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("nm-list-dialog",{staticClass:"nm-module-code-generator-property",attrs:{title:"属性列表("+r.parent.name+")",icon:"list",width:"70%",visible:r.visible_},on:{"update:visible":function(e){r.visible_=e},open:r.onOpen}},[o("nm-list",r._b({ref:"list",scopedSlots:r._u([{key:"querybar",fn:function(){return[o("el-form-item",{attrs:{label:"名称：",prop:"name"}},[o("el-input",{attrs:{clearable:""},model:{value:r.list.model.name,callback:function(e){r.$set(r.list.model,"name",e)},expression:"list.model.name"}})],1)]},proxy:!0},{key:"querybar-buttons",fn:function(e){var t=e.total;return[o("nm-button",{attrs:{type:"success",text:"添加",icon:"add"},on:{click:function(e){return r.add(t)}}}),o("nm-button",{attrs:{type:"warning",text:"排序",icon:"sort"},on:{click:r.openSort}})]}},{key:"col-name",fn:function(e){var t=e.row;return[t.isInherit?o("el-tooltip",{attrs:{effect:"dark",content:"继承自基类实体",placement:"top"}},[o("nm-icon",{staticClass:"icon-inherit",attrs:{name:"star-fill"}})],1):r._e(),t.isPrimaryKey?o("el-tooltip",{attrs:{effect:"dark",content:"主键",placement:"top"}},[o("nm-icon",{staticClass:"icon-primarykey",attrs:{name:"key"}})],1):r._e(),o("span",[r._v(r._s(t.name))])]}},{key:"col-nullable",fn:function(e){var t=e.row;return[o("el-switch",{attrs:{value:t.nullable,disabled:t.isInherit},on:{change:function(e){return r.updateNullable(t)}}})]}},{key:"col-showInList",fn:function(e){var t=e.row;return[o("el-switch",{attrs:{value:t.showInList,disabled:t.isInherit},on:{change:function(e){return r.updateShowInList(t)}}})]}},{key:"col-operation",fn:function(e){var t=e.row;return[o("nm-button",{attrs:{text:"编辑",icon:"edit",type:"text",disabled:t.isInherit},on:{click:function(e){return r.edit(t)}}}),o("nm-button-delete",{attrs:{action:r.removeAction,id:t.id,disabled:t.isInherit},on:{success:r.refresh}})]}}])},"nm-list",r.list,!1)),o("add-page",{attrs:{total:r.total,parent:r.parent,visible:r.dialog.add},on:{"update:visible":function(e){return r.$set(r.dialog,"add",e)},success:r.refresh}}),o("edit-page",{attrs:{id:r.curr.id,parent:r.parent,visible:r.dialog.edit},on:{"update:visible":function(e){return r.$set(r.dialog,"edit",e)},success:r.refresh}}),o("nm-drag-sort-dialog",r._b({attrs:{visible:r.dialog.sort},on:{"update:visible":function(e){return r.$set(r.dialog,"sort",e)},success:r.refresh}},"nm-drag-sort-dialog",r.dragSort,!1))],1)},[],!1,null,null,null).exports);function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var J="codegenerator/ModelProperty/",K=n.b.crud(J),R={sort:J+"sort",updateNullable:J+"UpdateNullable",select:J+"select",importFromEntity:J+"importFromEntity"},z=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(e){H(t,e,r[e])})}return t}({},K,{querySortList:function(e){return n.b.get(R.sort,e)},updateSortList:function(e){return n.b.post(R.sort,e)},updateNullable:function(e){return n.b.post(R.updateNullable,e)},select:function(e){return n.b.get(R.select,e)},importFromEntity:function(e){return n.b.post(R.importFromEntity,e)}}),G=[{name:"id",label:"编号",width:240,show:!1},{name:"name",label:"名称"},{name:"typeName",label:"类型"},{name:"nullable",label:"可空"},{name:"remarks",label:"备注"},{name:"sort",label:"排序",width:70},{name:"creator",label:"创建人",width:100,show:!1},{name:"createdTime",label:"创建时间",width:150,show:!1}],Q={mixins:[o.b.dialog],components:{TypeSelect:C,EnumSelect:D},data:function(){var o=this;return{form:{title:"添加模型属性",icon:"add",width:"40%",action:z.add,model:{classId:0,name:"",type:0,modelType:0,nullable:!1,enumId:"",remarks:"",sort:0},rules:{classId:[{required:!0,message:"请选择类",trigger:"blur"}],name:[{required:!0,message:"请输入类名",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"blur"},{type:"number",message:"请选择正确的类型",trigger:"blur"}],enumId:[{validator:function(e,t,r){o.showEnum&&""===t?r(new Error("请选择枚举")):r()}}],remarks:[{required:!0,message:"请输入备注",trigger:"blur"}]}},on:{success:this.onSuccess,open:this.onOpen}}},props:{total:Number,parent:{type:Object,required:!0},modelType:{type:Number,required:!0}},computed:{showEnum:function(){return 11===this.form.model.type}},methods:{getEnumSelect:function(){return T.a.select()},onSuccess:function(){this.$emit("success")},onOpen:function(){var e=this;this.$nextTick(function(){e.$refs.form.reset(),e.form.model.classId=e.parent.id,e.form.model.sort=e.total,e.form.model.modelType=e.modelType})}},watch:{"form.model.type":function(){this.showEnum||(this.form.model.enumId="")}}},X=Object(f.a)(Q,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nm-form-dialog",t._g(t._b({ref:"form",attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-form-dialog",t.form,!1),t.on),[r("el-row",[r("el-col",{attrs:{span:20,offset:1}},[r("el-form-item",{attrs:{label:"所属类："}},[r("el-input",{attrs:{disabled:""},model:{value:t.parent.name,callback:function(e){t.$set(t.parent,"name",e)},expression:"parent.name"}})],1),r("el-form-item",{attrs:{label:"名称：",prop:"name"}},[r("el-input",{model:{value:t.form.model.name,callback:function(e){t.$set(t.form.model,"name",e)},expression:"form.model.name"}})],1),r("el-form-item",{attrs:{label:"类型：",prop:"type"}},[r("type-select",{model:{value:t.form.model.type,callback:function(e){t.$set(t.form.model,"type",e)},expression:"form.model.type"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showEnum,expression:"showEnum"}],attrs:{label:"枚举：",prop:"enumId"}},[r("enum-select",{model:{value:t.form.model.enumId,callback:function(e){t.$set(t.form.model,"enumId",e)},expression:"form.model.enumId"}})],1),r("el-form-item",{attrs:{label:"可空：",prop:"nullable"}},[r("el-switch",{model:{value:t.form.model.nullable,callback:function(e){t.$set(t.form.model,"nullable",e)},expression:"form.model.nullable"}})],1),r("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[r("el-input",{model:{value:t.form.model.remarks,callback:function(e){t.$set(t.form.model,"remarks",e)},expression:"form.model.remarks"}})],1),r("el-form-item",{attrs:{label:"序号：",prop:"sort"}},[r("el-input",{attrs:{type:"number"},model:{value:t.form.model.sort,callback:function(e){t.$set(t.form.model,"sort",t._n(e))},expression:"form.model.sort"}})],1)],1)],1)],1)},[],!1,null,null,null).exports,Y={mixins:[o.b.formDialogEdit],components:{TypeSelect:C,EnumSelect:D},data:function(){var o=this;return{api:z,form:{title:"编辑模型属性",width:"40%",action:z.update,model:{classId:0,name:"",type:0,modelType:0,nullable:!1,enumId:"",remarks:"",sort:0},rules:{classId:[{required:!0,message:"请选择类",trigger:"blur"}],name:[{required:!0,message:"请输入类名",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"blur"},{type:"number",message:"请选择正确的类型",trigger:"blur"}],enumId:[{validator:function(e,t,r){o.showEnum&&""===t?r(new Error("请选择枚举")):r()}}],remarks:[{required:!0,message:"请输入备注",trigger:"blur"}]}},on:{success:this.onSuccess,open:this.onOpen}}},props:{parent:{type:Object,required:!0}},computed:{showEnum:function(){return 11===this.form.model.type}},methods:{getEnumSelect:function(){return T.a.select()}},watch:{"form.model.type":function(){this.showEnum||(this.form.model.enumId="")}}},Z=Object(f.a)(Y,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nm-form-dialog",t._g(t._b({ref:"form",attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-form-dialog",t.form,!1),t.on),[r("el-row",[r("el-col",{attrs:{span:20,offset:1}},[r("el-form-item",{attrs:{label:"所属类："}},[r("el-input",{attrs:{disabled:""},model:{value:t.parent.name,callback:function(e){t.$set(t.parent,"name",e)},expression:"parent.name"}})],1),r("el-form-item",{attrs:{label:"名称：",prop:"name"}},[r("el-input",{model:{value:t.form.model.name,callback:function(e){t.$set(t.form.model,"name",e)},expression:"form.model.name"}})],1),r("el-form-item",{attrs:{label:"类型：",prop:"type"}},[r("type-select",{model:{value:t.form.model.type,callback:function(e){t.$set(t.form.model,"type",e)},expression:"form.model.type"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showEnum,expression:"showEnum"}],attrs:{label:"枚举：",prop:"enumId"}},[r("enum-select",{model:{value:t.form.model.enumId,callback:function(e){t.$set(t.form.model,"enumId",e)},expression:"form.model.enumId"}})],1),r("el-form-item",{attrs:{label:"可空：",prop:"nullable"}},[r("el-switch",{model:{value:t.form.model.nullable,callback:function(e){t.$set(t.form.model,"nullable",e)},expression:"form.model.nullable"}})],1),r("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[r("el-input",{model:{value:t.form.model.remarks,callback:function(e){t.$set(t.form.model,"remarks",e)},expression:"form.model.remarks"}})],1),r("el-form-item",{attrs:{label:"序号：",prop:"sort"}},[r("el-input",{attrs:{type:"number"},model:{value:t.form.model.sort,callback:function(e){t.$set(t.form.model,"sort",t._n(e))},expression:"form.model.sort"}})],1)],1)],1)],1)},[],!1,null,null,null).exports,ee={mixins:[o.b.dialog],data:function(){return{list:[],value:[],loading:!1}},props:{total:Number,parent:{type:Object,required:!0},modelType:{type:Number,required:!0}},computed:{dialog:function(){return{title:"从实体中导入属性(".concat(this.parent.name,")"),icon:"import",width:"718px",height:"600px",noScrollbar:!0,loading:this.loading}}},methods:{queryList:function(){var t=this;this.list=[],P.select(this.parent.id).then(function(e){e.map(function(e){"Id"!==e.value&&t.list.push({key:e.value,label:e.label,disabled:t.value.includes(e.value),data:e.data})})})},querySelected:function(){var t=this;this.value=[],z.select({classId:this.parent.id,modelType:this.modelType}).then(function(e){e.map(function(e){t.value.push(e.value)}),t.queryList()})},submit:function(){var t=this,r=[];if(this.list.map(function(e){t.value.includes(e.key)&&!e.disabled&&r.push(e.data)}),r.length<1)this._warning("请选择属性");else{var e={classId:this.parent.id,modelType:this.modelType,ids:r,sort:this.total};this.loading=!0,z.importFromEntity(e).then(function(e){t._success("保存成功"),t.$emit("success"),t.loading=!1,t.visible_=!1}).catch(function(){t._error("保存失败"),t.loading=!1})}},onOpen:function(){this.querySelected()}}},te=(r("3fa5"),{components:{AddPage:X,EditPage:Z,ImportPage:Object(f.a)(ee,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nm-dialog",t._b({attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e},open:t.onOpen},scopedSlots:t._u([{key:"footer",fn:function(){return[r("nm-button",{attrs:{type:"success",text:"保存"},on:{click:t.submit}})]},proxy:!0}])},"nm-dialog",t.dialog,!1),[r("el-transfer",{staticClass:"nm-code-generator-model-property-import",attrs:{data:t.list},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},[],!1,null,null,null).exports},data:function(){return{curr:{id:""},total:0,list:{noHeader:!0,queryOnCreated:!1,noSearch:!0,action:z.query,operationWidth:150,model:{classId:this.parent.id,modelType:this.modelType},cols:G},dialog:{add:!1,edit:!1,property:!1,sort:!1,import:!1},removeAction:z.remove}},props:{parent:{type:Object,required:!0},modelType:{type:Number,required:!0}},computed:{dragSort:function(){return{queryAction:this.querySortList,updateAction:z.updateSortList}}},methods:{refresh:function(){this.$refs.list.refresh()},reset:function(){this.$refs.list.reset()},add:function(e){this.total=e,this.dialog.add=!0},edit:function(e){this.curr=e,this.dialog.edit=!0},updateNullable:function(e){e.nullable=!e.nullable;var t=e.id,r=e.nullable;z.updateNullable({id:t,nullable:r})},querySortList:function(){return z.querySortList({classId:this.parent.id,modelType:this.modelType})},openSort:function(){this.dialog.sort=!0},openImport:function(e){this.total=e,this.dialog.import=!0}},watch:{parent:function(e){this.list.model.classId=e.id,this.refresh()},modelType:function(e){this.list.model.modelType=e,this.refresh()}}}),re=Object(f.a)(te,function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("nm-list",r._b({ref:"list",scopedSlots:r._u([{key:"querybar-buttons",fn:function(e){var t=e.total;return[o("nm-button",{attrs:{type:"success",text:"添加",icon:"add"},on:{click:function(e){return r.add(t)}}}),o("nm-button",{attrs:{type:"warning",text:"排序",icon:"sort"},on:{click:r.openSort}}),o("nm-button",{attrs:{type:"primary",text:"从实体导入",icon:"import"},on:{click:function(e){return r.openImport(t)}}})]}},{key:"col-name",fn:function(e){var t=e.row;return[t.isInherit?o("el-tooltip",{attrs:{effect:"dark",content:"继承自基类实体",placement:"top"}},[o("nm-icon",{staticClass:"icon-inherit",attrs:{name:"star-fill"}})],1):r._e(),t.isPrimaryKey?o("el-tooltip",{attrs:{effect:"dark",content:"主键",placement:"top"}},[o("nm-icon",{staticClass:"icon-primarykey",attrs:{name:"key"}})],1):r._e(),o("span",[r._v(r._s(t.name))])]}},{key:"col-nullable",fn:function(e){var t=e.row;return[o("el-switch",{attrs:{value:t.nullable},on:{change:function(e){return r.updateNullable(t)}}})]}},{key:"col-operation",fn:function(e){var t=e.row;return[o("nm-button",{attrs:{text:"编辑",icon:"edit",type:"text",disabled:t.isInherit},on:{click:function(e){return r.edit(t)}}}),o("nm-button-delete",{attrs:{action:r.removeAction,id:t.id,disabled:t.isInherit},on:{success:r.refresh}})]}}])},"nm-list",r.list,!1),[o("add-page",{attrs:{total:r.total,parent:r.parent,"model-type":r.modelType,visible:r.dialog.add},on:{"update:visible":function(e){return r.$set(r.dialog,"add",e)},success:r.refresh}}),o("edit-page",{attrs:{id:r.curr.id,parent:r.parent,visible:r.dialog.edit},on:{"update:visible":function(e){return r.$set(r.dialog,"edit",e)},success:r.refresh}}),o("nm-drag-sort-dialog",r._b({attrs:{visible:r.dialog.sort},on:{"update:visible":function(e){return r.$set(r.dialog,"sort",e)},success:r.refresh}},"nm-drag-sort-dialog",r.dragSort,!1)),o("import-page",{attrs:{parent:r.parent,"model-type":r.modelType,total:r.total,visible:r.dialog.import},on:{"update:visible":function(e){return r.$set(r.dialog,"import",e)},success:r.refresh}})],1)},[],!1,null,null,null).exports,oe={mixins:[o.b.dialog],components:{ListPage:re},data:function(){return{active:"query"}},props:{parent:{type:Object,required:!0}},computed:{dialog:function(){return{class:"nm-code-generator-model-property",title:"模型属性列表(".concat(this.parent.name,")"),icon:"list",width:"70%",noFooter:!0}},modelType:function(){return"query"===this.active?1:"add"===this.active?2:3}},methods:{refresh:function(){this.$refs.list.refresh()},onOpen:function(){var e=this;this.$nextTick(function(){e.active="query",e.$refs.list.reset(),e.$refs.list.refresh()})}}},ne=(r("1c06"),Object(f.a)(oe,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nm-dialog",t._b({attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e},open:t.onOpen},scopedSlots:t._u([{key:"toolbar",fn:function(){return[r("nm-button",{attrs:{icon:"refresh"},on:{click:t.refresh}})]},proxy:!0}])},"nm-dialog",t.dialog,!1),[r("div",{staticClass:"top"},[r("el-tabs",{attrs:{type:"card"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[r("el-tab-pane",{attrs:{name:"query"}},[r("span",{attrs:{slot:"label"},slot:"label"},[r("nm-icon",{attrs:{name:"search"}}),t._v("查询模型\n        ")],1)]),r("el-tab-pane",{attrs:{name:"add"}},[r("span",{attrs:{slot:"label"},slot:"label"},[r("nm-icon",{attrs:{name:"add"}}),t._v("添加模型\n        ")],1)]),r("el-tab-pane",{attrs:{name:"update"}},[r("span",{attrs:{slot:"label"},slot:"label"},[r("nm-icon",{attrs:{name:"edit"}}),t._v("编辑模型\n        ")],1)])],1)],1),r("div",{staticClass:"bottom"},[r("list-page",{ref:"list",attrs:{parent:t.parent,"model-type":t.modelType}})],1)])},[],!1,null,null,null).exports),le={mixins:[o.b.dialog],components:{AddPage:$,EditPage:S,PropertyPage:U,ModelManagePage:ne},data:function(){return{curr:{id:""},list:{noHeader:!0,queryOnCreated:!1,action:k.query,model:{projectId:"",name:""},cols:x},dialog:{add:!1,edit:!1,property:!1,model:!1},removeAction:k.remove}},props:{project:{type:Object,required:!0}},computed:{dialogOptions:function(){return{title:"类列表(".concat(this.project.name,")"),icon:"list",width:"80%"}}},methods:{refresh:function(){this.$refs.list.refresh()},add:function(){this.dialog.add=!0},edit:function(e){this.curr=e,this.dialog.edit=!0},openModelManage:function(e){this.curr=e,this.dialog.model=!0},manageProperty:function(e){this.curr=e,this.dialog.property=!0},onOpen:function(){var e=this;this.$nextTick(function(){e.$refs.list.reset(),e.list.model.projectId=e.project.id,e.$refs.list.query()})}}},ae=Object(f.a)(le,function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("nm-list-dialog",r._b({attrs:{visible:r.visible_},on:{"update:visible":function(e){r.visible_=e},open:r.onOpen}},"nm-list-dialog",r.dialogOptions,!1),[o("nm-list",r._b({ref:"list",scopedSlots:r._u([{key:"querybar",fn:function(){return[o("el-form-item",{attrs:{label:"名称：",prop:"name"}},[o("el-input",{attrs:{clearable:""},model:{value:r.list.model.name,callback:function(e){r.$set(r.list.model,"name",e)},expression:"list.model.name"}})],1)]},proxy:!0},{key:"querybar-buttons",fn:function(){return[o("nm-button",{attrs:{type:"success",text:"添加",icon:"add"},on:{click:r.add}})]},proxy:!0},{key:"col-name",fn:function(e){var t=e.row;return[o("nm-button",{attrs:{text:t.name,type:"text"},on:{click:function(e){return r.manageProperty(t)}}})]}},{key:"col-operation",fn:function(e){var t=e.row;return[o("nm-button",{attrs:{text:"编辑",icon:"edit",type:"text"},on:{click:function(e){return r.edit(t)}}}),o("nm-button-delete",{attrs:{action:r.removeAction,id:t.id},on:{success:r.refresh}}),o("nm-button",{attrs:{text:"模型",icon:"entity",type:"text"},on:{click:function(e){return r.openModelManage(t)}}})]}}])},"nm-list",r.list,!1)),o("add-page",{attrs:{project:r.project,visible:r.dialog.add},on:{"update:visible":function(e){return r.$set(r.dialog,"add",e)},success:r.refresh}}),o("edit-page",{attrs:{id:r.curr.id,project:r.project,visible:r.dialog.edit},on:{"update:visible":function(e){return r.$set(r.dialog,"edit",e)},success:r.refresh}}),o("property-page",{attrs:{parent:r.curr,visible:r.dialog.property},on:{"update:visible":function(e){return r.$set(r.dialog,"property",e)}}}),o("model-manage-page",{attrs:{parent:r.curr,visible:r.dialog.model},on:{"update:visible":function(e){return r.$set(r.dialog,"model",e)}}})],1)},[],!1,null,null,null).exports,ie={name:u.default.name,mixins:[o.b.loading],components:{AddPage:p,EditPage:h,ClassPage:ae},data:function(){return{curr:{id:""},list:{title:u.default.title,cols:c,action:m.query,operationWidth:200,model:{name:"",code:""}},removeAction:m.remove,dialog:{add:!1,edit:!1,class:!1},buttons:u.default.buttons}},methods:{refresh:function(){this.$refs.list.refresh()},add:function(){this.dialog.add=!0},edit:function(e){this.curr=e,this.dialog.edit=!0},buildCode:function(o){var n=this._loading("正在努力生成代码，请稍后...");m.buildCode({id:o.id}).then(function(e){var t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.setAttribute("download",o.code+".zip"),document.body.appendChild(r),r.click(),document.body.removeChild(r),n.close()}).catch(function(){n.close()})},manageClass:function(e){this.curr=e,this.dialog.class=!0}}},se=Object(f.a)(ie,function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("nm-container",[o("nm-list",r._b({ref:"list",scopedSlots:r._u([{key:"querybar",fn:function(){return[o("el-form-item",{attrs:{label:"名称：",prop:"name"}},[o("el-input",{attrs:{clearable:""},model:{value:r.list.model.name,callback:function(e){r.$set(r.list.model,"name",e)},expression:"list.model.name"}})],1),o("el-form-item",{attrs:{label:"编码：",prop:"code"}},[o("el-input",{attrs:{clearable:""},model:{value:r.list.model.code,callback:function(e){r.$set(r.list.model,"code",e)},expression:"list.model.code"}})],1)]},proxy:!0},{key:"querybar-buttons",fn:function(){return[o("nm-button",{directives:[{name:"nm-has",rawName:"v-nm-has",value:r.buttons.add,expression:"buttons.add"}],attrs:{type:"success",text:"添加",icon:"add"},on:{click:r.add}})]},proxy:!0},{key:"col-name",fn:function(e){var t=e.row;return[o("nm-button",{attrs:{text:t.name,type:"text"},on:{click:function(e){return r.manageClass(t)}}})]}},{key:"col-isShow",fn:function(e){var t=e.row;return[r._v(r._s(t.isShow?"是":"否"))]}},{key:"col-operation",fn:function(e){var t=e.row;return[o("nm-button",{directives:[{name:"nm-has",rawName:"v-nm-has",value:r.buttons.edit,expression:"buttons.edit"}],attrs:{text:"编辑",icon:"edit",type:"text"},on:{click:function(e){return r.edit(t)}}}),o("nm-button-delete",{directives:[{name:"nm-has",rawName:"v-nm-has",value:r.buttons.del,expression:"buttons.del"}],attrs:{action:r.removeAction,id:t.id},on:{success:r.refresh}}),o("nm-button",{directives:[{name:"nm-has",rawName:"v-nm-has",value:r.buttons.buildCode,expression:"buttons.buildCode"}],attrs:{text:"生成",icon:"run",type:"text"},on:{click:function(e){return r.buildCode(t)}}})]}}])},"nm-list",r.list,!1)),o("add-page",{attrs:{visible:r.dialog.add},on:{"update:visible":function(e){return r.$set(r.dialog,"add",e)},success:r.refresh}}),o("edit-page",{attrs:{id:r.curr.id,visible:r.dialog.edit},on:{"update:visible":function(e){return r.$set(r.dialog,"edit",e)},success:r.refresh}}),o("class-page",{attrs:{project:r.curr,visible:r.dialog.class},on:{"update:visible":function(e){return r.$set(r.dialog,"class",e)}}})],1)},[],!1,null,null,null);t.default=se.exports},d0ee:function(e,t,r){"use strict";var o=r("e0f9");function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l="codegenerator/enum/",a=o.b.crud(l),i={select:l+"select"};t.a=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(e){n(t,e,r[e])})}return t}({},a,{select:function(e){return o.b.get(i.select,e)}})},ebba:function(e,t,r){}}]);