(window.webpackJsonp=window.webpackJsonp||[]).push([["admin.auditinfo"],{"6e0d":function(e,t,l){"use strict";var a=l("e0f9");function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var i="admin/moduleinfo/",r=a.b.crud(i),o={select:i+"select",sync:i+"sync"};t.a=function(t){for(var e=1;e<arguments.length;e++){var l=null!=arguments[e]?arguments[e]:{},a=Object.keys(l);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(l).filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable}))),a.forEach(function(e){n(t,e,l[e])})}return t}({},r,{select:function(){return a.b.get(o.select)},sync:function(){return a.b.post(o.sync)}})},"7d88":function(e,t,l){"use strict";l.r(t);var a=l("e0f9");function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var i="admin/auditinfo/",r=a.b.crud(i),o={details:i+"Details"},s=function(t){for(var e=1;e<arguments.length;e++){var l=null!=arguments[e]?arguments[e]:{},a=Object.keys(l);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(l).filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable}))),a.forEach(function(e){n(t,e,l[e])})}return t}({},r,{details:function(e){return a.b.get(o.details,{id:e})}}),u=l("1139"),c=[{name:"id",label:"编号"},{name:"creator",label:"账户"},{name:"moduleName",label:"模块"},{name:"controller",label:"控制器"},{name:"action",label:"方法"},{name:"platformName",label:"平台"},{name:"ip",label:"IP"},{name:"executionTime",label:"执行时间"},{name:"executionDuration",label:"执行用时(ms)"}],d={mixins:[l("3ee3").b.drawer],data:function(){return{drawer:{header:!0,title:"审计日志详情",icon:"log",width:"450px"},model:{}}},props:["id"],methods:{get:function(){var t=this;""!==this.id?s.details(this.id).then(function(e){t.model=e}):this._warning("请选择要查看的数据~")}},watch:{id:function(){0<this.id&&this.get()}}},m=l("2877"),f=Object(m.a)(d,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("nm-drawer",t._b({attrs:{visible:t.visible_},on:{"update:visible":function(e){t.visible_=e}}},"nm-drawer",t.drawer,!1),[l("el-form",{attrs:{"label-width":"120px",disabled:""}},[l("el-form-item",{attrs:{label:"账户："}},[t._v(t._s(t.model.creator))]),l("el-form-item",{attrs:{label:"模块："}},[t._v(t._s(t.model.moduleName))]),l("el-form-item",{attrs:{label:"控制器："}},[t._v(t._s(t.model.controller))]),l("el-form-item",{attrs:{label:"方法："}},[t._v(t._s(t.model.action))]),l("el-form-item",{attrs:{label:"执行时间："}},[t._v(t._s(t.model.executionTime))]),l("el-form-item",{attrs:{label:"用时："}},[t._v(t._s(t.model.executionDuration)+"ms")]),l("el-form-item",{attrs:{label:"IP："}},[t._v(t._s(t.model.ip))]),l("el-form-item",{attrs:{label:"平台："}},[t._v(t._s(t.model.platformName))]),l("el-form-item",{attrs:{label:"浏览器信息："}},[l("el-input",{attrs:{type:"textarea",value:t.model.browserInfo,rows:5}})],1),l("el-form-item",{attrs:{label:"参数："}},[l("el-input",{attrs:{type:"textarea",value:t.model.parameters,rows:10}})],1),l("el-form-item",{attrs:{label:"结果："}},[l("el-input",{attrs:{type:"textarea",value:t.model.result,rows:10}})],1)],1)],1)},[],!1,null,null,null).exports,b=l("c17f"),p={name:u.default.name,components:{DetailsPage:f,ModuleInfoSelect:b.a},data:function(){return{list:{title:u.default.title,action:s.query,labelWidth:"60px",advanced:{enabled:!0,labelWidth:"100px"},model:{accountId:"",moduleCode:"",startTime:"",endTime:""},cols:c},detailsPage:{visible:!1,id:0},buttons:u.default.buttons}},methods:{refresh:function(){this.$refs.list.refresh()},details:function(e){this.detailsPage.id=e.id,this.detailsPage.visible=!0}}},v=Object(m.a)(p,function(){var l=this,e=l.$createElement,a=l._self._c||e;return a("nm-container",[a("nm-list",l._b({ref:"list",scopedSlots:l._u([{key:"querybar",fn:function(){return[a("el-form-item",{attrs:{label:"模块：",prop:"moduleCode"}},[a("module-info-select",{model:{value:l.list.model.moduleCode,callback:function(e){l.$set(l.list.model,"moduleCode",e)},expression:"list.model.moduleCode"}})],1),a("el-form-item",{attrs:{label:"账户：",prop:"accountId"}},[a("el-input",{model:{value:l.list.model.accountId,callback:function(e){l.$set(l.list.model,"accountId",e)},expression:"list.model.accountId"}})],1)]},proxy:!0},{key:"querybar-advanced",fn:function(){return[a("el-row",[a("el-col",{attrs:{span:20,offset:1}},[a("el-form-item",{attrs:{label:"开始时间：",prop:"startTime"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:l.list.model.startTime,callback:function(e){l.$set(l.list.model,"startTime",e)},expression:"list.model.startTime"}})],1),a("el-form-item",{attrs:{label:"结束时间：",prop:"startTime"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:l.list.model.endTime,callback:function(e){l.$set(l.list.model,"endTime",e)},expression:"list.model.endTime"}})],1)],1)],1)]},proxy:!0},{key:"col-executionDuration",fn:function(e){var t=e.row;return[a("span",[l._v(l._s(t.executionDuration)+"ms")])]}},{key:"col-operation",fn:function(e){var t=e.row;return[a("nm-button",{directives:[{name:"nm-has",rawName:"v-nm-has",value:l.buttons.details,expression:"buttons.details"}],attrs:{text:l.buttons.details.text,type:"text"},on:{click:function(e){return l.details(t)}}})]}}])},"nm-list",l.list,!1)),a("details-page",{attrs:{id:l.detailsPage.id,visible:l.detailsPage.visible},on:{"update:visible":function(e){return l.$set(l.detailsPage,"visible",e)}}})],1)},[],!1,null,null,null);t.default=v.exports},c17f:function(e,t,l){"use strict";var a=l("3ee3"),n=l("6e0d"),i={mixins:[a.b.select],data:function(){return{action:n.a.select}}},r=l("2877"),o=Object(r.a)(i,void 0,void 0,!1,null,null,null);t.a=o.exports}}]);