(window.webpackJsonp=window.webpackJsonp||[]).push([["admin.permission"],{"151b":function(e,t,n){"use strict";var o=n("e0f9");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r="admin/permission/",a=o.b.crud(r),c={controllers:r+"Controllers",actions:r+"Actions",sync:r+"sync"};t.a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){l(t,e,n[e])})}return t}({},a,{sync:function(){return o.b.post(c.sync)}})},"6e0d":function(e,t,n){"use strict";var o=n("e0f9");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r="admin/moduleinfo/",a=o.b.crud(r),c={select:r+"select",sync:r+"sync"};t.a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){l(t,e,n[e])})}return t}({},a,{select:function(){return o.b.get(c.select)},sync:function(){return o.b.post(c.sync)}})},"8a23":function(e,t,n){"use strict";n.r(t);var o=n("151b"),l=n("5b72"),r=n("9b0f"),a=[{name:"id",label:"编号",show:!1,width:260},{name:"name",label:"名称"},{name:"moduleName",label:"所属模块"},{name:"moduleCode",label:"模块编码",show:!1},{name:"controller",label:"控制器"},{name:"action",label:"方法"},{name:"httpMethodName",label:"请求方法"},{name:"creator",label:"创建人",width:100,show:!1},{name:"createdTime",label:"创建时间",width:150,show:!1}],c=n("c17f"),s={name:r.default.name,components:{ModuleInfoSelect:c.a},data:function(){return{list:{title:r.default.title,cols:a,labelWidth:"70px",action:o.a.query,advanced:{enabled:!0,width:"400px"},model:{moduleCode:"",name:"",controller:"",action:""}},removeAction:o.a.remove,buttons:r.default.buttons}},methods:{refresh:function(){this.$refs.list.refresh()},sync:function(){var t=this;this._confirm("您确认要同步权限信息吗","同步权限信息").then(function(){o.a.sync().then(function(e){t._success("同步成功"),t.refresh()})})},getAllControllerAction:function(){return l.a.getAllController({module:this.list.model.moduleCode})},getAllAction:function(){var e=this.list.model;return l.a.getAllAction({module:e.moduleCode,controller:e.controller})},onModuleChange:function(){this.$refs.controllerSelect.refresh()},onControllerChange:function(){this.$refs.actionSelect.refresh()}}},i=n("2877"),u=Object(i.a)(s,function(){var n=this,e=n.$createElement,o=n._self._c||e;return o("nm-container",[o("nm-list",n._b({ref:"list",scopedSlots:n._u([{key:"querybar",fn:function(){return[o("el-form-item",{attrs:{label:"名称：",prop:"name"}},[o("el-input",{attrs:{clearable:""},model:{value:n.list.model.name,callback:function(e){n.$set(n.list.model,"name",e)},expression:"list.model.name"}})],1)]},proxy:!0},{key:"querybar-advanced",fn:function(){return[o("el-row",[o("el-col",{attrs:{span:20,offset:1}},[o("el-form-item",{attrs:{label:"模块：",prop:"moduleCode"}},[o("module-info-select",{on:{change:n.onModuleChange},model:{value:n.list.model.moduleCode,callback:function(e){n.$set(n.list.model,"moduleCode",e)},expression:"list.model.moduleCode"}})],1),o("el-form-item",{attrs:{label:"控制器：",prop:"controller"}},[o("nm-select",{ref:"controllerSelect",attrs:{method:n.getAllControllerAction},on:{change:n.onControllerChange},scopedSlots:n._u([{key:"default",fn:function(e){var t=e.options;return n._l(t,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[o("span",[n._v(n._s(e.label)+"("+n._s(e.value)+")")])])})}}]),model:{value:n.list.model.controller,callback:function(e){n.$set(n.list.model,"controller",e)},expression:"list.model.controller"}})],1),o("el-form-item",{attrs:{label:"方法：",prop:"action"}},[o("nm-select",{ref:"actionSelect",attrs:{method:n.getAllAction},scopedSlots:n._u([{key:"default",fn:function(e){var t=e.options;return n._l(t,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[o("span",[n._v(n._s(e.label)+"("+n._s(e.value)+")")])])})}}]),model:{value:n.list.model.action,callback:function(e){n.$set(n.list.model,"action",e)},expression:"list.model.action"}})],1)],1)],1)]},proxy:!0},{key:"querybar-buttons",fn:function(){return[o("nm-button",{directives:[{name:"nm-has",rawName:"v-nm-has",value:n.buttons.sync,expression:"buttons.sync"}],attrs:{type:"success",text:n.buttons.sync.text,icon:n.buttons.sync.icon},on:{click:n.sync}})]},proxy:!0},{key:"col-moduleName",fn:function(e){var t=e.row;return[o("span",[n._v(n._s(t.moduleName+"("+t.moduleCode+")"))])]}},{key:"col-operation",fn:function(e){var t=e.row;return[o("nm-button-delete",{directives:[{name:"nm-has",rawName:"v-nm-has",value:n.buttons.del,expression:"buttons.del"}],attrs:{action:n.removeAction,id:t.id},on:{success:n.refresh}})]}}])},"nm-list",n.list,!1))],1)},[],!1,null,null,null);t.default=u.exports},c17f:function(e,t,n){"use strict";var o=n("3ee3"),l=n("6e0d"),r={mixins:[o.b.select],data:function(){return{action:l.a.select}}},a=n("2877"),c=Object(a.a)(r,void 0,void 0,!1,null,null,null);t.a=c.exports}}]);